{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/yongwoo.kim/Downloads/loop/src/app/api/feedback/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nexport async function POST(request: Request) {\n    try {\n        const { body } = await request.json();\n        let apiKey = process.env.RESEND_API_KEY;\n\n        if (!apiKey) {\n            return NextResponse.json({ error: 'API Key Missing', details: 'RESEND_API_KEY가 설정되지 않았습니다.' }, { status: 500 });\n        }\n\n        // 혹시 모를 공백 제거\n        apiKey = apiKey.trim();\n\n        // SDK 대신 직접 API 호출 (네트워크 디버깅 용이)\n        const response = await fetch('https://api.resend.com/emails', {\n            method: 'POST',\n            headers: {\n                'Authorization': `Bearer ${apiKey}`,\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                from: 'onboarding@resend.dev',\n                to: 'xmforxm98@gmail.com',\n                subject: 'New Feedback from Loop',\n                text: body,\n            }),\n        });\n\n        const result = await response.json();\n\n        if (!response.ok) {\n            console.error('Resend Direct API Error:', result);\n            return NextResponse.json({\n                error: 'Resend API Error',\n                details: result\n            }, { status: response.status });\n        }\n\n        return NextResponse.json({ success: true, data: result });\n    } catch (error) {\n        console.error('Feedback Flow Error:', error);\n        return NextResponse.json({\n            error: 'Feedback Flow Error',\n            details: error instanceof Error ? error.message : String(error)\n        }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,KAAK,OAAgB;IACvC,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,QAAQ,IAAI;QACnC,IAAI,SAAS,QAAQ,GAAG,CAAC,cAAc;QAEvC,IAAI,CAAC,QAAQ;YACT,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;gBAAmB,SAAS;YAA8B,GAAG;gBAAE,QAAQ;YAAI;QACjH;QAEA,cAAc;QACd,SAAS,OAAO,IAAI;QAEpB,iCAAiC;QACjC,MAAM,WAAW,MAAM,MAAM,iCAAiC;YAC1D,QAAQ;YACR,SAAS;gBACL,iBAAiB,CAAC,OAAO,EAAE,QAAQ;gBACnC,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;gBACjB,MAAM;gBACN,IAAI;gBACJ,SAAS;gBACT,MAAM;YACV;QACJ;QAEA,MAAM,SAAS,MAAM,SAAS,IAAI;QAElC,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACrB,OAAO;gBACP,SAAS;YACb,GAAG;gBAAE,QAAQ,SAAS,MAAM;YAAC;QACjC;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM;QAAO;IAC3D,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,OAAO;YACP,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC7D,GAAG;YAAE,QAAQ;QAAI;IACrB;AACJ"}}]
}