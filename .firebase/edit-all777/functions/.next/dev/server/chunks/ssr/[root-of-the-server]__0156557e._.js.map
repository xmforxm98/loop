{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/yongwoo.kim/Downloads/loop/src/hooks/useFFmpeg.ts"],"sourcesContent":["\"use client\";\nimport { FFmpeg } from \"@ffmpeg/ffmpeg\";\nimport { toBlobURL } from \"@ffmpeg/util\";\nimport { useRef, useState, useCallback } from \"react\";\n\nexport const useFFmpeg = () => {\n    const [loaded, setLoaded] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [ffmpeg, setFfmpeg] = useState<FFmpeg | null>(null);\n    const loadPromiseRef = useRef<Promise<boolean> | null>(null);\n    const [progress, setProgress] = useState(0);\n    const [logs, setLogs] = useState<string[]>([]);\n\n    const load = useCallback(async () => {\n        if (loaded && ffmpeg) return true;\n        if (loadPromiseRef.current) return loadPromiseRef.current;\n\n        const task = (async () => {\n            setLoading(true);\n            const baseURL = \"https://unpkg.com/@ffmpeg/core@0.12.6/dist/umd\";\n\n            const instance = new FFmpeg();\n            setFfmpeg(instance);\n\n            instance.on(\"log\", ({ message }) => {\n                setLogs((prev) => [...prev.slice(-10), message]);\n                console.log(message);\n            });\n\n            instance.on(\"progress\", ({ progress }) => {\n                setProgress(Math.round(progress * 100));\n            });\n\n            try {\n                await instance.load({\n                    coreURL: await toBlobURL(`${baseURL}/ffmpeg-core.js`, \"text/javascript\"),\n                    wasmURL: await toBlobURL(`${baseURL}/ffmpeg-core.wasm`, \"application/wasm\"),\n                });\n                setLoaded(true);\n                return true;\n            } catch (error) {\n                console.error(\"FFmpeg load error:\", error);\n                return false;\n            } finally {\n                setLoading(false);\n                loadPromiseRef.current = null;\n            }\n        })();\n\n        loadPromiseRef.current = task;\n        return task;\n    }, [loaded, ffmpeg]);\n\n    return {\n        ffmpeg: ffmpeg as FFmpeg,\n        loaded,\n        loading,\n        progress,\n        logs,\n        load,\n        setProgress\n    };\n};\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;AAKO,MAAM,YAAY;IACrB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAgB;IACpD,MAAM,iBAAiB,IAAA,+MAAM,EAA0B;IACvD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAW,EAAE;IAE7C,MAAM,OAAO,IAAA,oNAAW,EAAC;QACrB,IAAI,UAAU,QAAQ,OAAO;QAC7B,IAAI,eAAe,OAAO,EAAE,OAAO,eAAe,OAAO;QAEzD,MAAM,OAAO,CAAC;YACV,WAAW;YACX,MAAM,UAAU;YAEhB,MAAM,WAAW,IAAI,qKAAM;YAC3B,UAAU;YAEV,SAAS,EAAE,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE;gBAC3B,QAAQ,CAAC,OAAS;2BAAI,KAAK,KAAK,CAAC,CAAC;wBAAK;qBAAQ;gBAC/C,QAAQ,GAAG,CAAC;YAChB;YAEA,SAAS,EAAE,CAAC,YAAY,CAAC,EAAE,QAAQ,EAAE;gBACjC,YAAY,KAAK,KAAK,CAAC,WAAW;YACtC;YAEA,IAAI;gBACA,MAAM,SAAS,IAAI,CAAC;oBAChB,SAAS,MAAM,IAAA,qKAAS,EAAC,GAAG,QAAQ,eAAe,CAAC,EAAE;oBACtD,SAAS,MAAM,IAAA,qKAAS,EAAC,GAAG,QAAQ,iBAAiB,CAAC,EAAE;gBAC5D;gBACA,UAAU;gBACV,OAAO;YACX,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,sBAAsB;gBACpC,OAAO;YACX,SAAU;gBACN,WAAW;gBACX,eAAe,OAAO,GAAG;YAC7B;QACJ,CAAC;QAED,eAAe,OAAO,GAAG;QACzB,OAAO;IACX,GAAG;QAAC;QAAQ;KAAO;IAEnB,OAAO;QACH,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;IACJ;AACJ"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///Users/yongwoo.kim/Downloads/loop/src/components/WaveformTrimmer.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport WaveSurfer from 'wavesurfer.js';\nimport RegionsPlugin from 'wavesurfer.js/dist/plugins/regions.js';\nimport { Play, Pause, Scissors, Undo2, RotateCcw } from 'lucide-react';\n\ninterface Segment {\n    id: string;\n    start: number;\n    end: number;\n}\n\ninterface WaveformTrimmerProps {\n    file: File;\n    onSegmentsChange: (segments: Segment[]) => void;\n}\n\n// Helper to convert AudioBuffer to WAV Blob for WaveSurfer v7 compatibility\nfunction bufferToWav(buffer: AudioBuffer): Blob {\n    const numOfChan = buffer.numberOfChannels;\n    const length = buffer.length * numOfChan * 2 + 44;\n    const bufferArray = new ArrayBuffer(length);\n    const view = new DataView(bufferArray);\n    const channels = [];\n    let i, sample, offset = 0, pos = 0;\n\n    // write WAVE header\n    setUint32(0x46464952); // \"RIFF\"\n    setUint32(length - 8); // file length - 8\n    setUint32(0x45564157); // \"WAVE\"\n\n    setUint32(0x20746d66); // \"fmt \" chunk\n    setUint32(16); // length = 16\n    setUint16(1); // PCM (uncompressed)\n    setUint16(numOfChan);\n    setUint32(buffer.sampleRate);\n    setUint32(buffer.sampleRate * 2 * numOfChan); // avg. bytes/sec\n    setUint16(numOfChan * 2); // block-align\n    setUint16(16); // 16-bit (hardcoded)\n\n    setUint32(0x61746164); // \"data\" - chunk\n    setUint32(length - pos - 4); // chunk length\n\n    // write interleaved data\n    for (i = 0; i < numOfChan; i++) channels.push(buffer.getChannelData(i));\n\n    while (pos < length) {\n        for (i = 0; i < numOfChan; i++) {\n            sample = Math.max(-1, Math.min(1, channels[i][offset])); // clamp\n            sample = (0.5 + sample < 0 ? sample * 32768 : sample * 32767) | 0; // scale to 16-bit signed int\n            view.setInt16(pos, sample, true); // write 16-bit sample\n            pos += 2;\n        }\n        offset++;\n    }\n\n    return new Blob([bufferArray], { type: \"audio/wav\" });\n\n    function setUint16(data: number) {\n        view.setUint16(pos, data, true);\n        pos += 2;\n    }\n\n    function setUint32(data: number) {\n        view.setUint32(pos, data, true);\n        pos += 4;\n    }\n}\n\nexport default function WaveformTrimmer({ file, onSegmentsChange }: WaveformTrimmerProps) {\n    const containerRef = useRef<HTMLDivElement>(null);\n    const wavesurferRef = useRef<WaveSurfer | null>(null);\n    const regionsPluginRef = useRef<any>(null);\n    const audioContextRef = useRef<AudioContext | null>(null);\n    const originalBufferRef = useRef<AudioBuffer | null>(null);\n    const currentBlobUrlRef = useRef<string | null>(null);\n\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [duration, setDuration] = useState(0);\n    const [currentTime, setCurrentTime] = useState(0);\n    const [segments, setSegments] = useState<Segment[]>([]);\n    const [history, setHistory] = useState<Segment[][]>([]);\n    const [selectionRange, setSelectionRange] = useState<{ start: number, end: number } | null>(null);\n    const [isDecoding, setIsDecoding] = useState(false);\n\n    const formatTime = (time: number) => {\n        if (isNaN(time)) return \"0:00.00\";\n        const mins = Math.floor(time / 60);\n        const secs = Math.floor(time % 60);\n        const ms = Math.floor((time % 1) * 100);\n        return `${mins}:${secs.toString().padStart(2, '0')}.${ms.toString().padStart(2, '0')}`;\n    };\n\n    const createMergedBuffer = useCallback((originalBuffer: AudioBuffer, currentSegments: Segment[]) => {\n        const ctx = audioContextRef.current;\n        if (!ctx || !originalBuffer) return null;\n\n        const sampleRate = originalBuffer.sampleRate;\n        const totalLength = currentSegments.reduce((acc, seg) => acc + (seg.end - seg.start), 0);\n        const frameCount = Math.floor(totalLength * sampleRate);\n\n        if (frameCount <= 0) return null;\n\n        const newBuffer = ctx.createBuffer(\n            originalBuffer.numberOfChannels,\n            frameCount,\n            sampleRate\n        );\n\n        for (let channel = 0; channel < originalBuffer.numberOfChannels; channel++) {\n            const originalData = originalBuffer.getChannelData(channel);\n            const newData = newBuffer.getChannelData(channel);\n            let offset = 0;\n\n            currentSegments.forEach(seg => {\n                const startFrame = Math.floor(seg.start * sampleRate);\n                const endFrame = Math.floor(seg.end * sampleRate);\n                const segmentData = originalData.subarray(startFrame, endFrame);\n                newData.set(segmentData, offset);\n                offset += segmentData.length;\n            });\n        }\n\n        return newBuffer;\n    }, []);\n\n    const updateWaveform = useCallback(async (currentSegments: Segment[]) => {\n        if (!wavesurferRef.current || !originalBufferRef.current) return;\n\n        setIsDecoding(true);\n        try {\n            const mergedBuffer = createMergedBuffer(originalBufferRef.current, currentSegments);\n\n            if (currentBlobUrlRef.current) {\n                URL.revokeObjectURL(currentBlobUrlRef.current);\n                currentBlobUrlRef.current = null;\n            }\n\n            if (mergedBuffer) {\n                const wavBlob = bufferToWav(mergedBuffer);\n                const url = URL.createObjectURL(wavBlob);\n                currentBlobUrlRef.current = url;\n\n                // Pre-calculate peaks array of arrays for instant v7 rendering\n                const peaks = [];\n                for (let c = 0; c < mergedBuffer.numberOfChannels; c++) {\n                    const chan = mergedBuffer.getChannelData(c);\n                    const chanPeaks = [];\n                    const step = Math.floor(chan.length / 1000) || 1;\n                    for (let n = 0; n < chan.length; n += step) {\n                        chanPeaks.push(chan[n]);\n                    }\n                    peaks.push(chanPeaks);\n                }\n\n                await wavesurferRef.current.load(url, peaks);\n                setDuration(mergedBuffer.duration);\n            } else {\n                setDuration(0);\n            }\n        } catch (error) {\n            console.error(\"Waveform update failed:\", error);\n        } finally {\n            setIsDecoding(false);\n        }\n    }, [createMergedBuffer]);\n\n    useEffect(() => {\n        if (!containerRef.current) return;\n\n        const wavesurfer = WaveSurfer.create({\n            container: containerRef.current,\n            waveColor: '#e2e8f0',\n            progressColor: '#3b82f6',\n            cursorColor: '#3b82f6',\n            cursorWidth: 2,\n            barWidth: 2,\n            barRadius: 3,\n            height: 120,\n            normalize: true,\n            minPxPerSec: 50,\n            interact: true, // Allow interaction in v7\n        });\n\n        const regions = wavesurfer.registerPlugin(RegionsPlugin.create());\n        regionsPluginRef.current = regions;\n\n        const initAudio = async () => {\n            setIsDecoding(true);\n            try {\n                const arrayBuffer = await file.arrayBuffer();\n                const ctx = new (window.AudioContext || (window as any).webkitAudioContext)();\n                audioContextRef.current = ctx;\n                const decodedBuffer = await ctx.decodeAudioData(arrayBuffer);\n                originalBufferRef.current = decodedBuffer;\n\n                const d = decodedBuffer.duration;\n                setDuration(d);\n\n                const initialSegments = [{ id: 'init', start: 0, end: d }];\n                setSegments(initialSegments);\n                onSegmentsChange(initialSegments);\n\n                const wavBlob = bufferToWav(decodedBuffer);\n                const url = URL.createObjectURL(wavBlob);\n                currentBlobUrlRef.current = url;\n\n                // Pre-calculate peaks array of arrays\n                const peaks = [];\n                for (let c = 0; c < decodedBuffer.numberOfChannels; c++) {\n                    const chan = decodedBuffer.getChannelData(c);\n                    const chanPeaks = [];\n                    const step = Math.floor(chan.length / 1000) || 1;\n                    for (let i = 0; i < chan.length; i += step) {\n                        chanPeaks.push(chan[i]);\n                    }\n                    peaks.push(chanPeaks);\n                }\n\n                await wavesurfer.load(url, peaks);\n            } catch (error) {\n                console.error(\"Audio initialization failed:\", error);\n            } finally {\n                setIsDecoding(false);\n            }\n        };\n\n        initAudio();\n\n        wavesurfer.on('audioprocess', () => setCurrentTime(wavesurfer.getCurrentTime()));\n        wavesurfer.on('interaction', (newTime) => {\n            wavesurfer.setTime(newTime);\n            setCurrentTime(newTime);\n        });\n\n        regions.enableDragSelection({\n            color: 'rgba(239, 68, 68, 0.3)',\n        });\n\n        regions.on('region-created', (region) => {\n            regions.getRegions().forEach((r: any) => {\n                if (r.id !== region.id) r.remove();\n            });\n            setSelectionRange({ start: region.start, end: region.end });\n        });\n\n        regions.on('region-updated', (region) => {\n            setSelectionRange({ start: region.start, end: region.end });\n        });\n\n        wavesurfer.on('play', () => setIsPlaying(true));\n        wavesurfer.on('pause', () => setIsPlaying(false));\n\n        wavesurferRef.current = wavesurfer;\n\n        return () => {\n            wavesurfer.destroy();\n            if (audioContextRef.current) audioContextRef.current.close();\n            if (currentBlobUrlRef.current) URL.revokeObjectURL(currentBlobUrlRef.current);\n        };\n    }, [file]);\n\n    const saveToHistory = () => {\n        setHistory(prev => [...prev, [...segments]]);\n    };\n\n    const undo = () => {\n        if (history.length === 0) return;\n        const prevSegments = history[history.length - 1];\n        setHistory(prev => prev.slice(0, -1));\n        setSegments(prevSegments);\n        onSegmentsChange(prevSegments);\n\n        updateWaveform(prevSegments);\n\n        regionsPluginRef.current?.clearRegions();\n        setSelectionRange(null);\n    };\n\n    const togglePlay = () => wavesurferRef.current?.playPause();\n\n    const handleRippleCut = () => {\n        if (!selectionRange || !wavesurferRef.current) return;\n\n        saveToHistory();\n\n        const cutStart = selectionRange.start;\n        const cutEnd = selectionRange.end;\n\n        const nextSegments: Segment[] = [];\n        let currentTimelineOffset = 0;\n\n        segments.forEach(seg => {\n            const segDuration = seg.end - seg.start;\n            const segTimelineStart = currentTimelineOffset;\n            const segTimelineEnd = currentTimelineOffset + segDuration;\n\n            if (segTimelineEnd <= cutStart || segTimelineStart >= cutEnd) {\n                nextSegments.push(seg);\n            } else {\n                if (segTimelineStart < cutStart) {\n                    const keepDurationBefore = cutStart - segTimelineStart;\n                    nextSegments.push({\n                        id: Math.random().toString(36).substr(2, 9),\n                        start: seg.start,\n                        end: seg.start + keepDurationBefore\n                    });\n                }\n                if (segTimelineEnd > cutEnd) {\n                    const skipDuration = cutEnd - segTimelineStart;\n                    nextSegments.push({\n                        id: Math.random().toString(36).substr(2, 9),\n                        start: seg.start + skipDuration,\n                        end: seg.end\n                    });\n                }\n            }\n            currentTimelineOffset += segDuration;\n        });\n\n        setSegments(nextSegments);\n        onSegmentsChange(nextSegments);\n        updateWaveform(nextSegments);\n\n        regionsPluginRef.current?.clearRegions();\n        setSelectionRange(null);\n    };\n\n    return (\n        <div className=\"waveform-container bg-slate-50/50 rounded-[2rem] p-8 border border-slate-200\">\n            <div className=\"flex flex-wrap items-center justify-between gap-6 mb-8\">\n                <div className=\"flex items-center gap-3\">\n                    <button\n                        onClick={togglePlay}\n                        disabled={isDecoding || duration === 0}\n                        className=\"trimmer-btn btn-play-pause\"\n                    >\n                        {isPlaying ? <Pause size={28} /> : <Play size={28} className=\"ml-1\" />}\n                    </button>\n\n                    <div className=\"h-10 w-[1px] bg-slate-200 mx-2\" />\n\n                    <button\n                        onClick={handleRippleCut}\n                        disabled={!selectionRange || isDecoding}\n                        className=\"trimmer-btn btn-ripple-cut\"\n                    >\n                        <Scissors size={20} />\n                        Ripple Cut\n                    </button>\n\n                    <button\n                        onClick={undo}\n                        disabled={history.length === 0 || isDecoding}\n                        className=\"trimmer-btn btn-secondary-action\"\n                    >\n                        <Undo2 size={20} />\n                        Undo\n                    </button>\n\n                    <button\n                        onClick={() => {\n                            if (confirm('Are you sure you want to reset all edits?')) {\n                                saveToHistory();\n                                const initialSegments = [{ id: 'init-' + Math.random(), start: 0, end: originalBufferRef.current?.duration || 0 }];\n                                setSegments(initialSegments);\n                                onSegmentsChange(initialSegments);\n                                updateWaveform(initialSegments);\n                            }\n                        }}\n                        disabled={isDecoding || (segments.length === 1 && segments[0].start === 0 && segments[0].end === originalBufferRef.current?.duration)}\n                        className=\"trimmer-btn btn-secondary-action btn-reset-all\"\n                    >\n                        <RotateCcw size={20} />\n                        Reset All\n                    </button>\n                </div>\n\n                <div className=\"flex flex-col items-end\">\n                    <div className=\"text-2xl font-mono font-bold text-primary tabular-nums\">\n                        {formatTime(currentTime)}\n                    </div>\n                    <div className=\"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em]\">\n                        {isDecoding ? 'Processing...' : `TOTAL: ${formatTime(duration)}`}\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"relative waveform-wrapper mt-4\">\n                {isDecoding && (\n                    <div className=\"absolute inset-0 z-20 bg-white/90 backdrop-blur-md rounded-3xl flex flex-col items-center justify-center gap-4 shadow-inner border border-slate-100\">\n                        <div className=\"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n                        <div className=\"text-center\">\n                            <p className=\"font-black text-slate-800 text-lg uppercase tracking-tight\">Updating Waveform</p>\n                            <p className=\"text-xs text-slate-400 font-bold\">Re-rendering the rippled audio...</p>\n                        </div>\n                    </div>\n                )}\n                <div className=\"bg-white rounded-3xl shadow-2xl border border-slate-100 p-6\">\n                    <div ref={containerRef} className=\"waveform-viz min-h-[120px]\" />\n                </div>\n            </div>\n\n            <div className=\"mt-10 overflow-hidden bg-white border border-slate-100 rounded-3xl shadow-sm\">\n                <div className=\"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center justify-between\">\n                    <h6 className=\"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]\">Active Segments (to be merged)</h6>\n                    <span className=\"px-2 py-0.5 bg-primary/10 text-primary text-[10px] font-bold rounded-md\">{segments.length} Clips</span>\n                </div>\n                <div className=\"p-4 flex flex-wrap gap-2 max-h-[200px] overflow-y-auto\">\n                    {segments.map((seg, i) => (\n                        <div key={seg.id} className=\"flex items-center gap-2 px-3 py-2 bg-slate-50 rounded-xl border border-slate-100 text-[11px] font-mono text-slate-600 font-bold hover:bg-white transition-colors group\">\n                            <span className=\"w-4 h-4 rounded bg-slate-200 flex items-center justify-center text-[9px] text-slate-500\">{i + 1}</span>\n                            {formatTime(seg.start)} - {formatTime(seg.end)}\n                        </div>\n                    ))}\n                    {segments.length === 0 && <p className=\"text-sm text-slate-400 italic px-2\">No audio content remaining.</p>}\n                </div>\n            </div>\n\n            <div className=\"mt-8 p-6 bg-slate-900 rounded-4xl text-white shadow-xl\">\n                <div className=\"flex items-center gap-3 mb-4\">\n                    <div className=\"w-10 h-10 rounded-xl bg-primary/20 flex items-center justify-center text-primary\">\n                        <Scissors size={20} />\n                    </div>\n                    <div>\n                        <p className=\"font-bold text-lg leading-tight\">Smart Ripple-Waveform</p>\n                        <p className=\"text-[10px] text-slate-400 font-bold uppercase tracking-widest\">Version 2.5 Pro</p>\n                    </div>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 text-xs text-slate-400\">\n                    <div className=\"space-y-3\">\n                        <li className=\"flex gap-3\">\n                            <span className=\"w-5 h-5 rounded-full bg-primary/10 text-primary flex items-center justify-center shrink-0 font-bold\">1</span>\n                            <span><strong className=\"text-white\">Select Part to Remove</strong>: Drag on the waveform. The red area is what will be DELETED.</span>\n                        </li>\n                        <li className=\"flex gap-3\">\n                            <span className=\"w-5 h-5 rounded-full bg-primary/10 text-primary flex items-center justify-center shrink-0 font-bold\">2</span>\n                            <span><strong className=\"text-white\">Instant Ripple</strong>: Click Cut. The waveform will physically SHRINK, joining the edges.</span>\n                        </li>\n                    </div>\n                    <div className=\"space-y-3\">\n                        <li className=\"flex gap-3\">\n                            <span className=\"w-5 h-5 rounded-full bg-primary/10 text-primary flex items-center justify-center shrink-0 font-bold\">3</span>\n                            <span><strong className=\"text-white\">Precision Control</strong>: Use Undo to fix any mistake. Clicking the waveform moves the needle without playing.</span>\n                        </li>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":["file:///Users/yongwoo.kim/Downloads/loop/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useRef, useCallback } from \"react\";\nimport dynamic from \"next/dynamic\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n  Upload,\n  Music,\n  Repeat,\n  Layers,\n  ArrowRight,\n  Download,\n  Trash2,\n  AlertCircle,\n  Loader2,\n  Clock,\n  MessageSquare,\n  Send,\n  X,\n  CheckCircle2\n} from \"lucide-react\";\nimport { fetchFile } from \"@ffmpeg/util\";\nimport { useFFmpeg } from \"@/hooks/useFFmpeg\";\nimport \"./audio-editor.css\";\n\nimport WaveformTrimmer from \"@/components/WaveformTrimmer\";\nimport AdBanner from \"@/components/AdBanner\";\n\ntype Tool = \"merge\" | \"loop\" | \"extend\" | \"trim\";\n\nexport default function AudioEditor() {\n  const { ffmpeg, loaded, loading: ffmpegLoading, progress, load } = useFFmpeg();\n  const [activeTool, setActiveTool] = useState<Tool>(\"merge\");\n  const [files, setFiles] = useState<File[]>([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [resultUrl, setResultUrl] = useState<string | null>(null);\n  const [crossfade, setCrossfade] = useState(0.5);\n  const [loopCount, setLoopCount] = useState(2);\n  const [targetDuration, setTargetDuration] = useState(90); // minutes\n  const [startTime, setStartTime] = useState(0);\n  const [endTime, setEndTime] = useState(60);\n  const [segments, setSegments] = useState<{ id: string, start: number, end: number }[]>([]);\n  const [error, setError] = useState<string | null>(null);\n  const [isFeedbackOpen, setIsFeedbackOpen] = useState(false);\n  const [feedbackBody, setFeedbackBody] = useState(\"\");\n  const [feedbackSent, setFeedbackSent] = useState(false);\n  const [feedbackLoading, setFeedbackLoading] = useState(false);\n\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      const newFiles = Array.from(e.target.files);\n      if (activeTool === \"merge\") {\n        setFiles((prev) => [...prev, ...newFiles]);\n      } else {\n        setFiles(newFiles);\n      }\n    }\n  };\n\n  const removeFile = (index: number) => {\n    setFiles((prev) => prev.filter((_, i) => i !== index));\n  };\n\n  const moveFile = (index: number, direction: 'up' | 'down') => {\n    setFiles((prev) => {\n      const newFiles = [...prev];\n      const targetIndex = direction === 'up' ? index - 1 : index + 1;\n      if (targetIndex >= 0 && targetIndex < newFiles.length) {\n        [newFiles[index], newFiles[targetIndex]] = [newFiles[targetIndex], newFiles[index]];\n      }\n      return newFiles;\n    });\n  };\n\n  const handleProcess = async () => {\n    if (!loaded) {\n      const success = await load();\n      if (success === false) {\n        setError(\"Could not load the processing engine. Please check your internet connection and try again.\");\n        return;\n      }\n    }\n\n    if (files.length === 0) {\n      setError(\"Please select at least one file.\");\n      return;\n    }\n\n    setIsProcessing(true);\n    setError(null);\n    setResultUrl(null);\n\n    try {\n      if (activeTool === \"merge\") {\n        await processMerge();\n      } else if (activeTool === \"loop\") {\n        await processLoop();\n      } else if (activeTool === \"extend\") {\n        await processExtend();\n      } else if (activeTool === \"trim\") {\n        await processTrim();\n      }\n    } catch (err: any) {\n      console.error(err);\n      setError(\"An error occurred during processing. Please try again.\");\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const processMerge = async () => {\n    const fileNames: string[] = [];\n    for (let i = 0; i < files.length; i++) {\n      const ext = files[i].name.split(\".\").pop();\n      const name = `input${i}.${ext}`;\n      await ffmpeg.writeFile(name, await fetchFile(files[i]));\n      fileNames.push(name);\n    }\n\n    let command: string[] = [];\n    const outputName = \"merged_output.mp3\";\n\n    if (crossfade > 0 && files.length > 1) {\n      // Complex filter for crossfade\n      // For 2 files: [0:a][1:a]acrossfade=d=0.5:c1=tri:c2=tri[a]\n      // For more files, we nest them.\n      let inputs = fileNames.flatMap((name) => [\"-i\", name]);\n      let filter = \"[0:a][1:a]acrossfade=d=\" + crossfade + \":c1=tri:c2=tri[a0]\";\n      for (let i = 2; i < files.length; i++) {\n        filter += `;[a${i - 2}][${i}:a]acrossfade=d=${crossfade}:c1=tri:c2=tri[a${i - 1}]`;\n      }\n      const lastLabel = files.length > 1 ? `[a${files.length - 2}]` : \"[0:a]\";\n      command = [...inputs, \"-filter_complex\", filter, \"-map\", lastLabel, outputName];\n    } else {\n      // Simple concat\n      const concatList = fileNames.map(n => `file '${n}'`).join(\"\\n\");\n      await ffmpeg.writeFile(\"concat.txt\", concatList);\n      command = [\"-f\", \"concat\", \"-safe\", \"0\", \"-i\", \"concat.txt\", \"-c\", \"copy\", outputName];\n    }\n\n    await ffmpeg.exec(command);\n    const data = await ffmpeg.readFile(outputName);\n    const url = URL.createObjectURL(new Blob([data as any], { type: \"audio/mp3\" }));\n    setResultUrl(url);\n  };\n\n  const processLoop = async () => {\n    const ext = files[0].name.split(\".\").pop();\n    const inputName = `input.${ext}`;\n    const outputName = \"looped_output.mp3\";\n    await ffmpeg.writeFile(inputName, await fetchFile(files[0]));\n\n    // ffmpeg -stream_loop [count-1] -i input.mp3 -c copy output.mp3\n    // Note: count 1 means play once, so -stream_loop 0. count 2 means repeat once, so -stream_loop 1.\n    await ffmpeg.exec([\"-stream_loop\", (loopCount - 1).toString(), \"-i\", inputName, \"-c\", \"copy\", outputName]);\n\n    const data = await ffmpeg.readFile(outputName);\n    const url = URL.createObjectURL(new Blob([data as any], { type: \"audio/mp3\" }));\n    setResultUrl(url);\n  };\n\n  const processExtend = async () => {\n    const ext = files[0].name.split(\".\").pop();\n    const inputName = `input.${ext}`;\n    const outputName = \"extended_output.mp3\";\n    await ffmpeg.writeFile(inputName, await fetchFile(files[0]));\n\n    // We need to know the duration of the input to calculate loop count\n    // But we can also just use a very large loop count and trim with -t\n    // To be safe, we'll try to get duration first or just use a safe large number if target is 90min.\n    // ffmpeg -stream_loop -1 -i input.mp3 -t [seconds] -c copy output.mp3\n    // -stream_loop -1 is infinite loop\n    const targetSeconds = targetDuration * 60;\n    await ffmpeg.exec([\"-stream_loop\", \"-1\", \"-i\", inputName, \"-t\", targetSeconds.toString(), \"-c\", \"copy\", outputName]);\n\n    const data = await ffmpeg.readFile(outputName);\n    const url = URL.createObjectURL(new Blob([data as any], { type: \"audio/mp3\" }));\n    setResultUrl(url);\n  };\n\n  const processTrim = async () => {\n    if (segments.length === 0) {\n      setError(\"No segments selected.\");\n      return;\n    }\n\n    const ext = files[0].name.split(\".\").pop();\n    const inputName = `input.${ext}`;\n    const outputName = \"trimmed_output.mp3\";\n    await ffmpeg.writeFile(inputName, await fetchFile(files[0]));\n\n    // Complex filter to extract multiple segments and merge them\n    // [0:a]atrim=start=S1:end=E1,asetpts=PTS-STARTPTS[a1];[0:a]atrim=start=S2:end=E2,asetpts=PTS-STARTPTS[a2];[a1][a2]concat=n=2:v=0:a=1[out]\n\n    let filter = \"\";\n    let inputs = \"\";\n    segments.forEach((seg, i) => {\n      filter += `[0:a]atrim=start=${seg.start}:end=${seg.end},asetpts=PTS-STARTPTS[a${i}];`;\n      inputs += `[a${i}]`;\n    });\n    filter += `${inputs}concat=n=${segments.length}:v=0:a=1[out]`;\n\n    await ffmpeg.exec([\n      \"-i\", inputName,\n      \"-filter_complex\", filter,\n      \"-map\", \"[out]\",\n      \"-c:a\", \"libmp3lame\",\n      \"-q:a\", \"2\",\n      outputName\n    ]);\n\n    const data = await ffmpeg.readFile(outputName);\n    const url = URL.createObjectURL(new Blob([data as any], { type: \"audio/mp3\" }));\n    setResultUrl(url);\n  };\n\n  const downloadResult = () => {\n    if (resultUrl) {\n      const a = document.createElement(\"a\");\n      a.href = resultUrl;\n      a.download = `loop_edited_${Date.now()}.mp3`;\n      a.click();\n    }\n  };\n\n  return (\n    <div className=\"container py-12\">\n      {/* Hero Section */}\n      <section className=\"text-center mb-16 animate-fade-in\">\n        <h1 className=\"text-5xl md:text-6xl font-extrabold mb-6 outfit\">\n          Edit Audio <span className=\"gradient-text\">Without Limits</span>\n        </h1>\n        <p className=\"text-xl text-secondary max-w-2xl mx-auto mb-10\">\n          Professional audio tools powered by your browser. No server uploads,\n          unlimited file sizes, and total privacy for your music.\n        </p>\n\n        {/* Tool Cards */}\n        <div className=\"tool-grid\">\n          <div\n            className={`tool-card ${activeTool === \"merge\" ? \"active\" : \"\"}`}\n            onClick={() => { setActiveTool(\"merge\"); setFiles([]); setError(null); }}\n          >\n            <div className=\"icon-box\"><Layers size={24} /></div>\n            <h3 className=\"text-xl font-bold mb-2\">Merge Audio</h3>\n            <p className=\"text-sm opacity-80\">Combine multiple tracks with seamless crossfades.</p>\n          </div>\n          <div\n            className={`tool-card ${activeTool === \"loop\" ? \"active\" : \"\"}`}\n            onClick={() => { setActiveTool(\"loop\"); setFiles([]); setError(null); }}\n          >\n            <div className=\"icon-box\"><Repeat size={24} /></div>\n            <h3 className=\"text-xl font-bold mb-2\">Loop Music</h3>\n            <p className=\"text-sm opacity-80\">Repeat a track a specific number of times perfectly.</p>\n          </div>\n          <div\n            className={`tool-card ${activeTool === \"extend\" ? \"active\" : \"\"}`}\n            onClick={() => { setActiveTool(\"extend\"); setFiles([]); setError(null); }}\n          >\n            <div className=\"icon-box\"><Clock size={24} /></div>\n            <h3 className=\"text-xl font-bold mb-2\">Extend Length</h3>\n            <p className=\"text-sm opacity-80\">Automatically loop music to reach a target duration.</p>\n          </div>\n          <div\n            className={`tool-card ${activeTool === \"trim\" ? \"active\" : \"\"}`}\n            onClick={() => { setActiveTool(\"trim\"); setFiles([]); setError(null); }}\n          >\n            <div className=\"icon-box\">\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"m3 6 2 2 2-2M3 18l2-2 2 2M12 6l2 2 2-2M12 18l2-2 2 2M18 12c.3 0 .5.2.5.5s-.2.5-.5.5h-4c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h4ZM8 12c.3 0 .5.2.5.5s-.2.5-.5.5H4c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h4Z\" /><path d=\"M12 2v20M18 2v20\" /></svg>\n            </div>\n            <h3 className=\"text-xl font-bold mb-2\">Trim Audio</h3>\n            <p className=\"text-sm opacity-80\">Cut specific parts of your audio with precision.</p>\n          </div>\n        </div>\n      </section>\n\n      {/* Main Action Area */}\n      <section className=\"max-w-3xl mx-auto glass rounded-[2rem] p-12 shadow-xl animate-fade-in\" style={{ animationDelay: \"0.2s\" }}>\n        {/* Drop Zone */}\n        {!isProcessing && !resultUrl && (\n          <div\n            className=\"drop-zone mb-8\"\n            onClick={() => fileInputRef.current?.click()}\n            onDragOver={(e) => { e.preventDefault(); e.currentTarget.classList.add('active'); }}\n            onDragLeave={(e) => { e.preventDefault(); e.currentTarget.classList.remove('active'); }}\n            onDrop={(e) => {\n              e.preventDefault();\n              e.currentTarget.classList.remove('active');\n              if (e.dataTransfer.files) {\n                const newFiles = Array.from(e.dataTransfer.files);\n                if (activeTool === \"merge\") {\n                  setFiles((prev) => [...prev, ...newFiles]);\n                } else {\n                  setFiles(newFiles);\n                }\n              }\n            }}\n          >\n            <Upload className=\"mx-auto mb-4 text-primary\" size={48} />\n            <h4 className=\"text-xl font-bold mb-2\">\n              {files.length > 0 ? `${files.length} file(s) selected` : \"Drop your audio files here\"}\n            </h4>\n            <p className=\"text-secondary\">Or click to browse from your computer</p>\n            <input\n              type=\"file\"\n              ref={fileInputRef}\n              className=\"hidden\"\n              accept=\"audio/*\"\n              multiple={activeTool === \"merge\"}\n              onChange={handleFileChange}\n            />\n          </div>\n        )}\n\n        {/* File List */}\n        {files.length > 0 && !isProcessing && !resultUrl && (\n          <div className=\"mb-12\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h5 className=\"font-bold\">Selected Tracks</h5>\n              <button\n                className=\"clear-btn\"\n                onClick={() => setFiles([])}\n              >\n                Clear All\n              </button>\n            </div>\n\n            <div className=\"max-h-80 overflow-y-auto pr-2\">\n              <AnimatePresence mode=\"popLayout\">\n                {files.map((file, idx) => (\n                  <motion.div\n                    layout\n                    initial={{ opacity: 0, scale: 0.95 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    exit={{ opacity: 0, scale: 0.95 }}\n                    key={`${file.name}-${idx}`}\n                    className=\"file-item\"\n                  >\n                    <Music size={20} className=\"text-primary shrink-0\" />\n                    <div className=\"file-info\">\n                      <span className=\"file-name truncate\">{file.name}</span>\n                      <span className=\"file-meta\">{(file.size / 1024 / 1024).toFixed(2)} MB</span>\n                    </div>\n\n                    <div className=\"file-actions\">\n                      {activeTool === \"merge\" && (\n                        <>\n                          <button\n                            className=\"action-btn\"\n                            disabled={idx === 0}\n                            onClick={() => moveFile(idx, 'up')}\n                            title=\"Move Up\"\n                          >\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"m18 15-6-6-6 6\" /></svg>\n                          </button>\n                          <button\n                            className=\"action-btn\"\n                            disabled={idx === files.length - 1}\n                            onClick={() => moveFile(idx, 'down')}\n                            title=\"Move Down\"\n                          >\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"m6 9 6 6 6-6\" /></svg>\n                          </button>\n                        </>\n                      )}\n                      <button\n                        className=\"action-btn delete\"\n                        onClick={() => removeFile(idx)}\n                        title=\"Remove\"\n                      >\n                        <Trash2 size={18} />\n                      </button>\n                    </div>\n                  </motion.div>\n                ))}\n              </AnimatePresence>\n            </div>\n\n            {activeTool === \"merge\" && (\n              <button\n                className=\"add-files-btn mt-4\"\n                onClick={() => fileInputRef.current?.click()}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Upload size={18} /> <span>Add More Files</span>\n                </div>\n              </button>\n            )}\n          </div>\n        )}\n\n        {/* Settings */}\n        {files.length > 0 && !isProcessing && !resultUrl && (\n          <div className=\"settings-panel mb-12\">\n            <h5 className=\"font-bold mb-6 flex items-center gap-2\">\n              Settings\n            </h5>\n\n            {activeTool === \"merge\" && (\n              <div className=\"input-group\">\n                <label>Crossfade Duration (seconds)</label>\n                <div className=\"flex items-center gap-4\">\n                  <input\n                    type=\"range\"\n                    min=\"0\"\n                    max=\"5\"\n                    step=\"0.1\"\n                    value={crossfade}\n                    onChange={(e) => setCrossfade(parseFloat(e.target.value))}\n                    className=\"flex-1\"\n                  />\n                  <span className=\"font-bold w-12 text-right\">{crossfade}s</span>\n                </div>\n              </div>\n            )}\n\n            {activeTool === \"loop\" && (\n              <div className=\"input-group\">\n                <label>Number of Loops</label>\n                <input\n                  type=\"number\"\n                  min=\"2\"\n                  max=\"100\"\n                  value={loopCount}\n                  onChange={(e) => setLoopCount(parseInt(e.target.value))}\n                />\n              </div>\n            )}\n\n            {activeTool === \"extend\" && (\n              <div className=\"input-group\">\n                <label>Target Duration (minutes)</label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"480\"\n                  value={targetDuration}\n                  onChange={(e) => setTargetDuration(parseInt(e.target.value))}\n                />\n              </div>\n            )}\n\n            {activeTool === \"trim\" && files.length > 0 && (\n              <div className=\"mt-4\">\n                <WaveformTrimmer\n                  file={files[0]}\n                  onSegmentsChange={(newSegments) => {\n                    setSegments(newSegments);\n                  }}\n                />\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Progress State */}\n        {isProcessing && (\n          <div className=\"text-center py-12\">\n            <Loader2 className=\"mx-auto mb-4 text-primary animate-spin\" size={48} />\n            <h4 className=\"text-2xl font-bold mb-2\">Processing Audio...</h4>\n            <p className=\"text-secondary mb-6\">This may take a few minutes for large files.</p>\n\n            <div className=\"progress-container\">\n              <div className=\"progress-bar\" style={{ width: `${progress}%` }}></div>\n            </div>\n            <p className=\"font-bold text-primary\">{progress}% Complete</p>\n          </div>\n        )}\n\n        {/* Result State */}\n        {resultUrl && (\n          <div className=\"text-center py-12\">\n            <div className=\"w-20 h-20 bg-success/10 text-success rounded-full flex items-center justify-center mx-auto mb-6\">\n              <Download size={40} />\n            </div>\n            <h4 className=\"text-3xl font-bold mb-2\">Ready for Download!</h4>\n            <p className=\"text-secondary mb-8\">Your audio file has been processed successfully.</p>\n\n            <div className=\"flex flex-col md:flex-row gap-4 justify-center\">\n              <button className=\"btn btn-primary px-10\" onClick={downloadResult}>\n                <Download size={20} /> Download File\n              </button>\n              <button\n                className=\"btn glass border-none px-10\"\n                onClick={() => { setResultUrl(null); setFiles([]); }}\n              >\n                Reset & Edit More\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Error State */}\n        {error && (\n          <div className=\"bg-danger/10 text-danger p-4 rounded-xl flex items-start gap-3 mb-6\">\n            <AlertCircle className=\"shrink-0\" size={20} />\n            <p className=\"text-sm font-medium\">{error}</p>\n          </div>\n        )}\n\n        {/* Action Button */}\n        {files.length > 0 && !isProcessing && !resultUrl && (\n          <button\n            className=\"btn btn-primary w-full py-4 text-lg\"\n            onClick={handleProcess}\n            disabled={ffmpegLoading}\n          >\n            {ffmpegLoading ? \"Loading Engine...\" : `Process & ${activeTool === \"merge\" ? \"Merge\" :\n              activeTool === \"loop\" ? \"Loop\" :\n                activeTool === \"extend\" ? \"Extend\" :\n                  \"Trim\"\n              }`}\n            {!ffmpegLoading && <ArrowRight size={20} />}\n          </button>\n        )}\n      </section>\n\n      {/* Privacy Message */}\n      <section className=\"mt-16 max-w-2xl mx-auto\">\n        <div className=\"glass p-6 rounded-2xl border border-primary/20 flex gap-4\">\n          <div className=\"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-primary shrink-0\">\n            <AlertCircle size={24} />\n          </div>\n          <div>\n            <h5 className=\"font-bold mb-1\">Zero-Upload Policy</h5>\n            <p className=\"text-sm text-secondary\">\n              We process everything inside your browser's RAM. Your files never touch our servers, ensuring 100% privacy and legal compliance.\n            </p>\n          </div>\n        </div>\n      </section>\n\n      {/* Feedback Button */}\n      <section className=\"mt-12 text-center\">\n        <button\n          onClick={() => setIsFeedbackOpen(true)}\n          className=\"btn glass border-2 border-primary/20 hover:border-primary hover:bg-primary/5 px-8 py-3 transition-all flex items-center gap-2 mx-auto\"\n        >\n          <MessageSquare size={18} />\n          Submit Feedback / Suggestion\n        </button>\n        <p className=\"text-[10px] text-secondary mt-3 font-bold uppercase tracking-widest\">\n          We value your feedback to make Loop better\n        </p>\n      </section>\n\n      {/* Feedback Modal */}\n      <AnimatePresence>\n        {isFeedbackOpen && (\n          <div className=\"modal-overlay\">\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              onClick={() => {\n                if (!feedbackSent) setIsFeedbackOpen(false);\n              }}\n              style={{ position: 'absolute', inset: 0 }}\n            />\n            <motion.div\n              initial={{ opacity: 0, scale: 0.95, y: 20 }}\n              animate={{ opacity: 1, scale: 1, y: 0 }}\n              exit={{ opacity: 0, scale: 0.95, y: 20 }}\n              className=\"modal-container\"\n            >\n              <div className=\"modal-content\">\n                {!feedbackSent && (\n                  <div className=\"modal-header\">\n                    <div>\n                      <h3 className=\"text-2xl font-bold outfit mb-1\">Feedback</h3>\n                      <p className=\"text-sm text-secondary\">Share your thoughts or report an issue.</p>\n                    </div>\n                    <button\n                      onClick={() => setIsFeedbackOpen(false)}\n                      className=\"close-btn\"\n                    >\n                      <X size={20} />\n                    </button>\n                  </div>\n                )}\n\n                {feedbackSent ? (\n                  <div className=\"text-center animate-fade-in py-4\">\n                    <div className=\"w-20 h-20 bg-success/10 text-success rounded-full flex items-center justify-center mx-auto mb-6\">\n                      <CheckCircle2 size={40} />\n                    </div>\n                    <h4 className=\"text-3xl font-bold mb-3 outfit\">Feedback Received</h4>\n                    <p className=\"text-secondary mb-8 leading-relaxed\">\n                      Thank you for your valuable feedback!<br />\n                      We will review it and continue to improve Loop.\n                    </p>\n                    <button\n                      className=\"btn btn-primary w-full py-4 rounded-2xl shadow-lg\"\n                      onClick={() => {\n                        setIsFeedbackOpen(false);\n                        setFeedbackSent(false);\n                        setFeedbackBody(\"\");\n                      }}\n                    >\n                      Close\n                    </button>\n                  </div>\n                ) : (\n                  <>\n                    <textarea\n                      value={feedbackBody}\n                      onChange={(e) => setFeedbackBody(e.target.value)}\n                      placeholder=\"Write your suggestion or feedback here...\"\n                      className=\"feedback-textarea\"\n                      style={{ minHeight: '180px' }}\n                    />\n                    <button\n                      disabled={!feedbackBody.trim() || feedbackLoading}\n                      onClick={async () => {\n                        setFeedbackLoading(true);\n                        try {\n                          const response = await fetch('/api/feedback', {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json' },\n                            body: JSON.stringify({ body: feedbackBody }),\n                          });\n\n                          if (response.ok) {\n                            setFeedbackSent(true);\n                          } else {\n                            alert(\"Failed to send feedback. Please try again later.\");\n                          }\n                        } catch (err) {\n                          console.error(err);\n                          alert(\"An error occurred. Please try again.\");\n                        } finally {\n                          setFeedbackLoading(false);\n                        }\n                      }}\n                      className=\"btn btn-primary w-full py-4 text-lg font-bold rounded-2xl shadow-lg disabled:opacity-50\"\n                    >\n                      {feedbackLoading ? (\n                        <span className=\"flex items-center gap-2\">\n                          <Loader2 size={20} className=\"animate-spin\" /> Submitting...\n                        </span>\n                      ) : (\n                        <span className=\"flex items-center gap-2\">\n                          <Send size={18} /> Submit Feedback\n                        </span>\n                      )}\n                    </button>\n                  </>\n                )}\n              </div>\n            </motion.div>\n          </div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}